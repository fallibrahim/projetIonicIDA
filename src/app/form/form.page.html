<div class="container mt-5">
  <div class="card">
    <div class="card-header text-white bg-info">
      S'enregistrer
    </div>
    <div class="card-body">
    <form novalidate (ngSubmit)="saveData(registerForm)" #registerForm="ngForm">
      <div class="form-row">
        <div class="col-md-6 mb-3">
          <label for="nom">Nom</label>
          <input type="text" class="form-control" placeholder="nom" id="nom"
          [(ngModel)]="personne.nom" name="nom" required minlength="4" #nomVar="ngModel"
          [ngClass]="{'is-invalid' : nomVar.touched && !nomVar.valid}">
          <div class="invalid-feedback">
            <span *ngIf="nomVar.errors?.['required']">
              Entrez votre nom.
            </span>
            <span *ngIf="nomVar.errors?.['minlength']">
             Minimum 4 caractères.
            </span>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label for="prenom">Prénom</label>
          <input type="text" class="form-control" placeholder="nom" id="prenom"
          [(ngModel)]="personne.prenom" name="prenom"
          required maxlength="20" #prenomVar="ngModel"
          [ngClass]="{'is-invalid' : prenomVar.touched && !prenomVar.valid}">
          <div class="invalid-feedback">
            <span *ngIf="prenomVar.errors?.['required']">
              Entrez votre prenom.
            </span>
            <span *ngIf="prenomVar.errors?.['maxlength']">
             Minimum 4 caractères.
            </span>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label for="email">E-mail</label>
          <input type="email" class="form-control" placeholder="email" id="email"
          [(ngModel)]="personne.email" name="email"
          #emailVar="ngModel" required email
          [ngClass]="{'is-invalid': emailVar.touched && !emailVar.valid}">
          <div class="invalid-feedback">
            <span *ngIf="emailVar.errors?.['required']">
              Entrez votre prenom.
            </span>
            <span *ngIf="emailVar.errors?.['email']">
             l'E-mail est invalid.
            </span>
          </div>
        </div>
      </div>
      <div class="form-row mb-3">
        <div class="col-md-12">
          <div class="form-check mt-4 pt-3">
            <label for="sendCatalogId" class="from-check-label">
            <input type="checkbox" class="form-check-input" name="sendCatalog"
            [(ngModel)]="personne.sendCatalog">Oui je souhaite recevoir la publicité</label>
          </div>
        </div>
      </div>
      <div *ngIf="personne.sendCatalog">
        <div class="form-row mb-3">
          <div class="col-md-12">
           <label for="">Adresse 1</label>
           <input type="text" class="form-control">
          </div>
         </div>
         <div class="form-row mb-3">
          <div class="col-md-12">
           <label for="">Adresse 2</label>
           <input type="text" class="form-control">
          </div>
         </div>
         <form class="form-row">
           <div class="col-md-6 mb-3">
            <label for="">Ville</label>
            <input type="text" class="form-control">
           </div>
           <div class="col-md-6 mb-3">
            <label for="">Departement</label>
           <select class="form-control">
             <option value="">Selectionner un département</option>
             <option value="A">A</option>
             <option value="B">B</option>
             <option value="C">C</option>
             <option value="D">D</option>
           </select>
           </div>
           <div class="col-md-3 mb-3">
             <label for="">Code Postal</label>
             <input type="number" class="form-control">
           </div>
         </form>
      </div>
     
      <div class="text-right">
        <button [disabled]="!registerForm.valid" class="btn btn-info text-white" type="submit">
          Sauvegarder
        </button>
      </div>
    </form>
    </div>
  </div>
</div>
<hr>
<p>dirty : {{ registerForm.dirty }}</p>
<p>valid : {{ registerForm.valid }}</p>
<p>Invalid : {{ registerForm.invalid }}</p>
<p>Pristine : {{ registerForm.pristine }}</p>
<p>Value : </p>
<pre>
  {{ registerForm.value | json }}
</pre>