<div class="container">
  <div class="card">
    <div class="card-header text-white bg-info">
      S'enregistrer
    </div>
    <div class="card-body">
    <form novalidate (ngSubmit)="saveData()" [formGroup]="registerForm">
      <div class="form-row">
        <div class="col-md-6 mb-3">
          <label for="nom">Nom</label>
          <input type="text" class="form-control" placeholder="nom" id="nom"
          formControlName="nom" 
          [ngClass]="{'is-invalid' : registerForm.get('nom')!.touched && !registerForm.get('nom')!.valid }">
          <div class="invalid-feedback">
            <span *ngIf="registerForm.get('nom')!.errors?.['required']">
              Entrez votre nom.
            </span>
            <span *ngIf="registerForm.get('nom')!.errors?.['minlength']">
             Minimum 4 caractères.
            </span>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label for="prenom">Prénom</label>
          <input type="text" class="form-control" placeholder="nom" id="prenom"
         formControlName="prenom"
          [ngClass]="{'is-invalid' : registerForm.get('prenom')!.touched && !registerForm.get('prenom')!.valid }">
          <div class="invalid-feedback">
            <span *ngIf="registerForm.get('prenom')!.errors?.['required']">
              Entrez votre prenom.
            </span>
            <span *ngIf="registerForm.get('prenom')!.errors?.['maxlength']">
             Minimum 4 caractères.
            </span>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label for="email">E-mail</label>
          <input type="email" class="form-control" placeholder="email" id="email" formControlName="email"
          [ngClass]="{'is-invalid': registerForm.get('email')!.touched && !registerForm.get('email')!.valid}">
          <div class="invalid-feedback">
            <span *ngIf="registerForm.get('email')!.errors?.['required']">
              Entrez votre prenom.
            </span>
            <span *ngIf="registerForm.get('email')!.errors?.['email']">
             l'E-mail est invalid.
            </span>
          </div>
        </div>
        <div class="form-row">
          <div class="col-md-6">
            <label for="phoneId">numero de telephone</label>
            <input type="text"  formControlName="phone"
             class="form-control"
              placeholder="votre numero de telephone"
              [ngClass]="{'is-invalid' : registerForm.get('phone')!.invalid}">
              <div class="invalid-feedback">
                <span *ngIf="registerForm.get('phone')!.errors?.['required']">
                   Veuillez entrer votre numéro de telephone
                </span>
              </div>
          </div>
        </div>
      </div>
      <div class="form-row mb-3">
        <div class="col-md-12">
          <div class="form-check mt-4 pt-3">
            <label for="sendCatalogId" class="from-check-label">
            <input type="checkbox"
             class="form-check-input" 
             formControlName="sendCatalog">
            Oui je souhaite recevoir la publicité
          </label>
          </div>
        </div>
        <div class="col-md-6">
          <label>Recevoir les notifications</label>
          <div class="col-md-8">
            <div class="form-check form-check-inline">
              <label class="form-check-label">
                <input type="radio" 
                value="email" formControlName="notification" 
                class="form-check-input" (click)="setNotificationSetting('email')"
                />
                 E-mail
              </label>
            </div>
            <div class="form-check form-check-inline">
              <label class="form-check-label">
                <input type="radio" 
                value="text" formControlName="notification"
                class="form-check-input" (click)="setNotificationSetting('text')"
                />
                 Texte
              </label>
            </div>
          </div>
        </div>
      </div>
      <div >
        <!-- *ngIf="registerForm.get('sendCatalog')" -->
        <div class="form-row mb-3">
          <div class="col-md-12">
           <label for="">Adresse 1</label>
           <input type="text" class="form-control">
          </div>
         </div>
         <div class="form-row mb-3">
          <div class="col-md-12">
           <label for="">Adresse 2</label>
           <input type="text" class="form-control">
          </div>
         </div>
         <form class="form-row">
           <div class="col-md-6 mb-3">
            <label for="">Ville</label>
            <input type="text" class="form-control">
           </div>
           <div class="col-md-6 mb-3">
            <label for="">Departement</label>
           <select class="form-control">
             <option value="">Selectionner un département</option>
             <option value="A">A</option>
             <option value="B">B</option>
             <option value="C">C</option>
             <option value="D">D</option>
           </select>
           </div>
           <div class="col-md-3 mb-3">
             <label for="">Code Postal</label>
             <input type="number" class="form-control">
           </div>
         </form>
      </div>
     
      <div class="text-right">
        <button class="btn btn-info me-2 text-white" 
        (click)="fillFormData()">
          Remplir les champs par défaut
        </button>
        <button [disabled]="!registerForm.valid" 
        class="btn btn-info text-white" type="submit">
          Sauvegarder
        </button>
      </div>
    </form>
    </div>
  </div>
</div>
<hr>
<p>dirty : {{ registerForm.dirty }}</p>
<p>valid : {{ registerForm.valid }}</p>
<p>Invalid : {{ registerForm.invalid }}</p>
<p>Pristine : {{ registerForm.pristine }}</p>
<p>Value : </p>
<pre>
  {{ registerForm.value | json }}
</pre>